{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Customer Account</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    {% include 'snippets/dependencies_customer_header.html' %}
</head>
<body>
    <div class="site-wrap">
    {% include 'header.html' %}
    <div class="site-section">
        <div class="container">
            <div class="page-wrapper" id="main-wrapper" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
            data-sidebar-position="fixed" data-header-position="fixed">
            {% include 'snippets/customer_account_sidebar.html' %}
                <div class="body-wrapper">
                    <div class="container-fluid">
                        <div class="row">
                        <div class="col-lg-12 d-flex align-items-strech">
                            <div class="card w-100">
                                <div class="card-body">
                                    <div class="d-sm-flex d-block align-items-center justify-content-between mb-9">
                                        <div class="mb-3 mb-sm-0 d-flex">
                                            <h5 class="card-title fw-semibold">Saved Address</h5>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="row">
                                        {% for address in customer_addresses %}
                                        <div class="col-lg-6">
                                            <div class="card overflow-hidden">
                                            <div class="card-body p-4">
                                                <h5 class="card-title mb-9 fw-semibold">Title: {{address.title}}</h5>
                                                <div class="row align-items-center">
                                                    <div class="col-10">
                                                        <h6 class="fw-semibold mb-3">Name: {{address.name}}</h6>
                                                        <div class="d-flex align-items-center mb-3">
                                                        <p class="fs-3 mb-0">Email: {{address.email}}</p>
                                                        </div>
                                                        <div class="d-flex align-items-center mb-3">
                                                        <p class="fs-3 mb-0">Address Line-1: {{address.line_1}}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            </div>
                                        </div>
                                        {% endfor %}
                                        </div>
                                    </div>
                                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addAddressModal">Add New Address</button>
                                </div>
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="py-6 px-6 text-center">
            {%include 'snippets/admin_footer_copywrite.html'%}
            </div>
        </div>
    </div>
    </div>
    {%include 'snippets/admin_scripts.html'%}

    <div class="modal fade" id="addAddressModal" tabindex="-1" aria-labelledby="addAddressModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
            </div>
            <div class="modal-body">
              <form action="{% url 'customer_address_add' %}" method="POST">
                {% csrf_token %}
                <div class="mb-3">
                    <label for="name" class="form-label">Title:</label>
                    <input type="text" class="form-control" id="name" name="title" required>
                  </div>
                <div class="mb-3">
                  <label for="name" class="form-label">Name:</label>
                  <input type="text" class="form-control" id="name" name="name" required>
                </div>
                <div class="mb-3">
                  <label for="email" class="form-label">Email:</label>
                  <input type="email" class="form-control" id="email" name="email" required>
                </div>
                <div class="mb-3">
                  <label for="address" class="form-label">Address Line-1:</label>
                  <input type="text" class="form-control" id="address" name="line_1" required>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-primary">Add Address</button>
                </div>
              </form>
            </div>
          </div>
        </div>
    </div>
    <script>
        var addAddressModal = document.getElementById('addAddressModal');
        addAddressModal.addEventListener('show.bs.modal', function (event) {
          var form = addAddressModal.querySelector('form');
          form.reset();
        });
    </script>
    {% include 'snippets/dependencies_customer_footer.html' %}
</body>
</html>